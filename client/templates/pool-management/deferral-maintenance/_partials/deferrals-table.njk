{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "custom-components/sortable-table/macro.njk" import modSortableTable %}

{% if data.deferrals | length === 0 %}

  <span class="govuk-body">There are no results to display.</span>


{% else %}

  <div class="govuk-caption-m">
    <span id="deferral-selected-count">{{ data.count.selected }}</span> of <span id="deferral-total-count">{{ data.queryTotal }}</span> selected
  </div>

  {% if errors.items["selectedJurors"] %}
    <div class="error-allocation">
      <p class="govuk-error-message">{{ errors.items['selectedJurors'][0].details }}</p>
    </div>
  {% endif %}

  {{ modSortableTable({
    id: "deferralsTable",
    caption: "Deferrals list",
    captionClasses: "govuk-visually-hidden",
    head: table.headers,
    rows: table.rows,
    url: urlPrefix
  }) }}

{% endif %}