<table class="govuk-table" {% if not unsortable %}data-module="mod-sortable-table"{% endif %}>
  <caption class="govuk-table__caption govuk-visually-hidden">Report data</caption>
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      {% for header in table.headers %}
        <th scope="col" class="govuk-table__header" {% for attribute, value in header.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>{{ header.html | safe }}</th>
      {% endfor %}
    </tr>
  </thead>

  {% for group in table.groups %}
    <tbody class="govuk-table__body">
      <tr class="govuk-table__row" data-fixed-index="{{ group.headRow[0]['data-fixed-index'] }}">
        <td colspan="{{ group.headRow[0].colspan }}" class="govuk-table__cell {{ group.headRow[0].classes }}">
          {{ group.headRow[0].html | safe }}
        </td>
      </tr>

      {% for row in group.rows %}
        <tr class="govuk-table__row">
          {% for cell in row %}
            <td class="govuk-table__cell" {% for attribute, value in cell.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>{{ cell.html | safe }}</td>
          {% endfor %}
        </tr>
      {% endfor %}

      <tr class="govuk-table__row" data-fixed-index="{{ group.totalsRow[0]['data-fixed-index'] }}">
        <td colspan="{{ group.totalsRow[0].colspan }}" class="govuk-table__cell {{ group.totalsRow[0].classes }}">
          {{ group.totalsRow[0].text | safe }}
        </td>
      </tr>
    </tbody>
  {% endfor %}

</table>