<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1614px" preserveAspectRatio="none" style="width:4591px;height:1614px;background:#FFFFFF;" version="1.1" viewBox="0 0 4591 1614" width="4591px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="2562.5" x="10" y="128.5977"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="4575.5" x="10" y="335.7715"/><rect fill="none" height="163.8633" style="stroke:#000000;stroke-width:1.5;" width="4424.5" x="10" y="748.1191"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="4575.5" x="10" y="1072.5352"/><rect fill="none" height="163.8633" style="stroke:#000000;stroke-width:1.5;" width="3798.5" x="10" y="1426.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="45" x2="45" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="331" x2="331" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="847" x2="847" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1450" x2="1450" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1809" x2="1809" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1986" x2="1986" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2209" x2="2209" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2463.5" x2="2463.5" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2676.5" x2="2676.5" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2898.5" x2="2898.5" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3191.5" x2="3191.5" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3587.5" x2="3587.5" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3931.5" x2="3931.5" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="4144.5" x2="4144.5" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="4329.5" x2="4329.5" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="4504.5" x2="4504.5" y1="52.9766" y2="1607.125"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="20" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="27" y="42.0234">Actor</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="391" x="136" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="377" x="143" y="25.5352">«/juror-management/record/:jurorNumber/expenses»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="241.5" y="42.0234">JurorRecordExpensesPage</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="621" x="537" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="607" x="544" y="25.5352">«/juror-management/unpaid-attendance/expense-record/:jurorNumber/:poolNumber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="761" y="42.0234">DraftExpenseRecordPage</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="564" x="1168" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="550" x="1175" y="25.5352">«/juror-management/expenses/:jurorNumber/:poolNumber/default-expenses»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1376.5" y="42.0234">DefaultExpensesPage</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1742" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="1781" y="25.5352">«/error»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1749" y="42.0234">GenericErrorPage</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="1886" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="187" x="1893" y="25.5352">«juror-record.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="1910.5" y="42.0234">JurorRecordController</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="225" x="2097" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="211" x="2104" y="25.5352">«expense-record.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="2121.5" y="42.0234">ExpenseRecordController</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="198" x="2364.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="165" x="2381" y="25.5352">«expenses.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="2371.5" y="42.0234">DefaultExpensesController</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="208" x="2572.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="194" x="2579.5" y="25.5352">«defaultExpensesDAO.get()»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="2597.5" y="42.0234">DefaultExpensesObject</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216" x="2790.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="202" x="2797.5" y="25.5352">«defaultExpensesDAO.post()»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="2809" y="42.0234">SetDefaultExpensesObject</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="351" x="3016.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="337" x="3023.5" y="25.5352">«juror-management/juror-record/expenses.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="3086.5" y="42.0234">JurorRecordExpensesTemplate</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="421" x="3377.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="407" x="3384.5" y="25.5352">«juror-management/expense-record/expense-record.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="3486" y="42.0234">DraftExpenseRecordTemplate</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="3808.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="232" x="3815.5" y="25.5352">«expenses/default-expenses.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="3842.5" y="42.0234">DefaultExpensesTemplate</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="4064.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="146" x="4071.5" y="25.5352">«_errors/generic.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="4095" y="42.0234">ErrorTemplate</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="4234.5" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="4241.5" y="42.0234">DefaultExpensesValidator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="4434.5" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="4441.5" y="42.0234">BackendController</text><polygon fill="#181818" points="319.5,80.2871,329.5,84.2871,319.5,88.2871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.5" x2="325.5" y1="84.2871" y2="84.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="57.5" y="79.5449">click add or change default expenses link</text><polygon fill="#181818" points="2451.5,109.5977,2461.5,113.5977,2451.5,117.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="331.5" x2="2457.5" y1="113.5977" y2="113.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1322.5" y="108.8555">call expenses controller</text><path d="M10,128.5977 L72,128.5977 L72,135.9082 L62,145.9082 L10,145.9082 L10,128.5977 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="2562.5" x="10" y="128.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="142.166">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="176" x="87" y="141.2324">[Navigate from expense record]</text><polygon fill="#181818" points="835.5,163.2188,845.5,167.2188,835.5,171.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.5" x2="841.5" y1="167.2188" y2="167.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="315.5" y="162.4766">click add or change default expenses link</text><polygon fill="#181818" points="2451.5,192.5293,2461.5,196.5293,2451.5,200.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="847.5" x2="2457.5" y1="196.5293" y2="196.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1580.5" y="191.7871">call expenses controller</text><polygon fill="#181818" points="2664.5,228.8398,2674.5,232.8398,2664.5,236.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2463.5" x2="2670.5" y1="232.8398" y2="232.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="2507" y="228.0977">build request object</text><polygon fill="#181818" points="4493,258.1504,4503,262.1504,4493,266.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2676.5" x2="4499" y1="262.1504" y2="262.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="3521.75" y="257.4082">send backend request</text><polygon fill="#181818" points="2687.5,287.4609,2677.5,291.4609,2687.5,295.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2681.5" x2="4504" y1="291.4609" y2="291.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="3552.25" y="286.7188">ok response</text><polygon fill="#181818" points="2474.5,316.7715,2464.5,320.7715,2474.5,324.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2468.5" x2="2675.5" y1="320.7715" y2="320.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="2522" y="316.0293">resolve request</text><path d="M10,335.7715 L72,335.7715 L72,343.082 L62,353.082 L10,353.082 L10,335.7715 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="4575.5" x="10" y="335.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="349.3398">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="223" x="87" y="348.4063">[Failed to fetch jurors default expenses]</text><polygon fill="#181818" points="2687.5,370.3926,2677.5,374.3926,2687.5,378.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2681.5" x2="4504" y1="374.3926" y2="374.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="3545.25" y="369.6504">error response</text><polygon fill="#181818" points="2474.5,399.7031,2464.5,403.7031,2474.5,407.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2468.5" x2="2675.5" y1="403.7031" y2="403.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="2506.5" y="398.9609">reject requestObject</text><polygon fill="#181818" points="4132.5,429.0137,4142.5,433.0137,4132.5,437.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2463.5" x2="4138.5" y1="433.0137" y2="433.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="3219.5" y="428.2715">request and build template</text><polygon fill="#181818" points="2474.5,458.3242,2464.5,462.3242,2474.5,466.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2468.5" x2="4143.5" y1="462.3242" y2="462.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="3265" y="457.582">return HTML</text><polygon fill="#181818" points="1820,487.6348,1810,491.6348,1820,495.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1814" x2="2462.5" y1="491.6348" y2="491.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2097.25" y="486.8926">return HTML</text><polygon fill="#181818" points="56.5,516.9453,46.5,520.9453,56.5,524.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="1808" y1="520.9453" y2="520.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="873.25" y="516.2031">render error page</text><polygon fill="#181818" points="3919.5,553.2559,3929.5,557.2559,3919.5,561.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2463.5" x2="3925.5" y1="557.2559" y2="557.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="3113" y="552.5137">request and build template</text><polygon fill="#181818" points="2474.5,582.5664,2464.5,586.5664,2474.5,590.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2468.5" x2="3930.5" y1="586.5664" y2="586.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="3158.5" y="581.8242">return HTML</text><polygon fill="#181818" points="1461,611.877,1451,615.877,1461,619.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1455" x2="2462.5" y1="615.877" y2="615.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1917.75" y="611.1348">return HTML</text><polygon fill="#181818" points="56.5,641.1875,46.5,645.1875,56.5,649.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="1449" y1="645.1875" y2="645.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="707.75" y="640.4453">render HTML</text><polygon fill="#181818" points="1438,670.498,1448,674.498,1438,678.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.5" x2="1444" y1="674.498" y2="674.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="631.75" y="669.7559">enters a valid default expense values</text><polygon fill="#181818" points="2451.5,699.8086,2461.5,703.8086,2451.5,707.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1450" x2="2457.5" y1="703.8086" y2="703.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1896.25" y="699.0664">call page controller</text><polygon fill="#181818" points="4317.5,729.1191,4327.5,733.1191,4317.5,737.1191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2463.5" x2="4323.5" y1="733.1191" y2="733.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="3355" y="728.377">validate form</text><path d="M10,748.1191 L72,748.1191 L72,755.4297 L62,765.4297 L10,765.4297 L10,748.1191 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="163.8633" style="stroke:#000000;stroke-width:1.5;" width="4424.5" x="10" y="748.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="761.6875">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="87" y="760.7539">[Invalid values entered]</text><polygon fill="#181818" points="2474.5,782.7402,2464.5,786.7402,2474.5,790.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2468.5" x2="4328.5" y1="786.7402" y2="786.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="3334.5" y="781.998">data validation fails</text><polygon fill="#181818" points="3919.5,812.0508,3929.5,816.0508,3919.5,820.0508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2463.5" x2="3925.5" y1="816.0508" y2="816.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="3066.5" y="811.3086">request and build error message template</text><polygon fill="#181818" points="2474.5,841.3613,2464.5,845.3613,2474.5,849.3613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2468.5" x2="3930.5" y1="845.3613" y2="845.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="3158.5" y="840.6191">return HTML</text><polygon fill="#181818" points="1461,870.6719,1451,874.6719,1461,878.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1455" x2="2462.5" y1="874.6719" y2="874.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1917.75" y="869.9297">return HTML</text><polygon fill="#181818" points="56.5,899.9824,46.5,903.9824,56.5,907.9824" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="1449" y1="903.9824" y2="903.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="681.25" y="899.2402">render error message</text><polygon fill="#181818" points="2474.5,936.293,2464.5,940.293,2474.5,944.293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2468.5" x2="4328.5" y1="940.293" y2="940.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="3334" y="935.5508">valid values entered</text><polygon fill="#181818" points="2886.5,965.6035,2896.5,969.6035,2886.5,973.6035" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2463.5" x2="2892.5" y1="969.6035" y2="969.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="2618" y="964.8613">build request object</text><polygon fill="#181818" points="4493,994.9141,4503,998.9141,4493,1002.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2898.5" x2="4499" y1="998.9141" y2="998.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="3632.75" y="994.1719">send backend request</text><polygon fill="#181818" points="2909.5,1024.2246,2899.5,1028.2246,2909.5,1032.2246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2903.5" x2="4504" y1="1028.2246" y2="1028.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="3663.25" y="1023.4824">ok response</text><polygon fill="#181818" points="2474.5,1053.5352,2464.5,1057.5352,2474.5,1061.5352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2468.5" x2="2897.5" y1="1057.5352" y2="1057.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="2633" y="1052.793">resolve request</text><path d="M10,1072.5352 L72,1072.5352 L72,1079.8457 L62,1089.8457 L10,1089.8457 L10,1072.5352 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="4575.5" x="10" y="1072.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="1086.1035">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="173" x="87" y="1085.1699">[Failed to set default expenses]</text><polygon fill="#181818" points="2909.5,1107.1563,2899.5,1111.1563,2909.5,1115.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2903.5" x2="4504" y1="1111.1563" y2="1111.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="3656.25" y="1106.4141">error response</text><polygon fill="#181818" points="2474.5,1136.4668,2464.5,1140.4668,2474.5,1144.4668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2468.5" x2="2897.5" y1="1140.4668" y2="1140.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="2617.5" y="1135.7246">reject requestObject</text><polygon fill="#181818" points="4132.5,1165.7773,4142.5,1169.7773,4132.5,1173.7773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2463.5" x2="4138.5" y1="1169.7773" y2="1169.7773"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="3219.5" y="1165.0352">request and build template</text><polygon fill="#181818" points="2474.5,1195.0879,2464.5,1199.0879,2474.5,1203.0879" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2468.5" x2="4143.5" y1="1199.0879" y2="1199.0879"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="3265" y="1194.3457">return HTML</text><polygon fill="#181818" points="1820,1224.3984,1810,1228.3984,1820,1232.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1814" x2="2462.5" y1="1228.3984" y2="1228.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2097.25" y="1223.6563">return HTML</text><polygon fill="#181818" points="56.5,1253.709,46.5,1257.709,56.5,1261.709" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="1808" y1="1257.709" y2="1257.709"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="873.25" y="1252.9668">render error page</text><polygon fill="#181818" points="1997.5,1290.0195,1987.5,1294.0195,1997.5,1298.0195" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1991.5" x2="2462.5" y1="1294.0195" y2="1294.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="2110" y="1289.2773">call juror record controller controller</text><polygon fill="#181818" points="3180,1319.3301,3190,1323.3301,3180,1327.3301" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1986.5" x2="3186" y1="1323.3301" y2="1323.3301"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="2504.75" y="1318.5879">request and build template</text><polygon fill="#181818" points="1997.5,1348.6406,1987.5,1352.6406,1997.5,1356.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1991.5" x2="3191" y1="1352.6406" y2="1352.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2550.25" y="1347.8984">return HTML</text><polygon fill="#181818" points="342.5,1377.9512,332.5,1381.9512,342.5,1385.9512" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="336.5" x2="1985.5" y1="1381.9512" y2="1381.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1120" y="1377.209">return HTML</text><polygon fill="#181818" points="56.5,1407.2617,46.5,1411.2617,56.5,1415.2617" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="330.5" y1="1411.2617" y2="1411.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="148.5" y="1406.5195">render HTML</text><path d="M10,1426.2617 L72,1426.2617 L72,1433.5723 L62,1443.5723 L10,1443.5723 L10,1426.2617 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="163.8633" style="stroke:#000000;stroke-width:1.5;" width="3798.5" x="10" y="1426.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="1439.8301">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="225" x="87" y="1438.8965">[Initally navigated from expense record]</text><polygon fill="#181818" points="2220.5,1460.8828,2210.5,1464.8828,2220.5,1468.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2214.5" x2="2462.5" y1="1464.8828" y2="1464.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="2221.5" y="1460.1406">call juror record controller controller</text><polygon fill="#181818" points="3576,1490.1934,3586,1494.1934,3576,1498.1934" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2209.5" x2="3582" y1="1494.1934" y2="1494.1934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="2814.25" y="1489.4512">request and build template</text><polygon fill="#181818" points="2220.5,1519.5039,2210.5,1523.5039,2220.5,1527.5039" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2214.5" x2="3587" y1="1523.5039" y2="1523.5039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2859.75" y="1518.7617">return HTML</text><polygon fill="#181818" points="858.5,1548.8145,848.5,1552.8145,858.5,1556.8145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.5" x2="2208.5" y1="1552.8145" y2="1552.8145"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1489.5" y="1548.0723">return HTML</text><polygon fill="#181818" points="56.5,1578.125,46.5,1582.125,56.5,1586.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="846.5" y1="1582.125" y2="1582.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="406.5" y="1577.3828">render HTML</text><!--MD5=[cb16c40dad0a8ebdec5655b3a316132d]
@startuml add-default-expenses

skinparam Style strictuml 
skinparam SequenceMessageAlignment center

participant Actor

''' LOCAL ROUTING
participant JurorRecordExpensesPage <</juror-management/record/:jurorNumber/expenses>>
participant DraftExpenseRecordPage <</juror-management/unpaid-attendance/expense-record/:jurorNumber/:poolNumber>>
participant DefaultExpensesPage <</juror-management/expenses/:jurorNumber/:poolNumber/default-expenses>>
participant GenericErrorPage <</error>>

''' CONTROLLER AND REQUEST OBJECTS
participant JurorRecordController <<juror-record.controller.js>> #lightyellow
participant ExpenseRecordController <<expense-record.controller.js>> #lightyellow
participant DefaultExpensesController <<expenses.controller.js>> #lightyellow
participant DefaultExpensesObject <<defaultExpensesDAO.get()>> #lightyellow
participant SetDefaultExpensesObject <<defaultExpensesDAO.post()>> #lightyellow

''' TEMPLATES
participant JurorRecordExpensesTemplate <<juror-management/juror-record/expenses.njk>> #lavender
participant DraftExpenseRecordTemplate <<juror-management/expense-record/expense-record.njk>> #lavender
participant DefaultExpensesTemplate <<expenses/default-expenses.njk>> #lavender
participant ErrorTemplate <<_errors/generic.njk>> #lavender

''' FILTERS AND VALIDATORS
participant DefaultExpensesValidator

''' BACKEND CONTROLLER
participant BackendController

Actor -> JurorRecordExpensesPage : click add or change default expenses link
JurorRecordExpensesPage -> DefaultExpensesController : call expenses controller

alt Navigate from expense record
  Actor -> DraftExpenseRecordPage : click add or change default expenses link
  DraftExpenseRecordPage -> DefaultExpensesController : call expenses controller
end
 
DefaultExpensesController -> DefaultExpensesObject : build request object
DefaultExpensesObject -> BackendController : send backend request
DefaultExpensesObject <- BackendController : ok response
DefaultExpensesController <- DefaultExpensesObject : resolve request

alt Failed to fetch jurors default expenses
    DefaultExpensesObject <- - BackendController : error response
    DefaultExpensesController <- - DefaultExpensesObject : reject requestObject
    DefaultExpensesController -> ErrorTemplate : request and build template
    DefaultExpensesController <- ErrorTemplate : return HTML
    GenericErrorPage <- DefaultExpensesController : return HTML
    Actor <- GenericErrorPage : render error page
end

DefaultExpensesController -> DefaultExpensesTemplate : request and build template
DefaultExpensesController <- DefaultExpensesTemplate : return HTML
DefaultExpensesPage <- DefaultExpensesController : return HTML
Actor <- DefaultExpensesPage : render HTML

Actor -> DefaultExpensesPage : enters a valid default expense values

DefaultExpensesPage -> DefaultExpensesController : call page controller

DefaultExpensesController -> DefaultExpensesValidator : validate form

alt Invalid values entered
  DefaultExpensesController <- - DefaultExpensesValidator : data validation fails
  DefaultExpensesController -> DefaultExpensesTemplate : request and build error message template
  DefaultExpensesController <- DefaultExpensesTemplate : return HTML
  DefaultExpensesPage <- DefaultExpensesController : return HTML
  Actor <- DefaultExpensesPage : render error message
end

DefaultExpensesController <- DefaultExpensesValidator : valid values entered

DefaultExpensesController -> SetDefaultExpensesObject : build request object
SetDefaultExpensesObject -> BackendController : send backend request
SetDefaultExpensesObject <- BackendController : ok response
DefaultExpensesController <- SetDefaultExpensesObject : resolve request

alt Failed to set default expenses
    SetDefaultExpensesObject <- - BackendController : error response
    DefaultExpensesController <- - SetDefaultExpensesObject : reject requestObject
    DefaultExpensesController -> ErrorTemplate : request and build template
    DefaultExpensesController <- ErrorTemplate : return HTML
    GenericErrorPage <- DefaultExpensesController : return HTML
    Actor <- GenericErrorPage : render error page
end

DefaultExpensesController -> JurorRecordController : call juror record controller controller
JurorRecordController -> JurorRecordExpensesTemplate : request and build template
JurorRecordController <- JurorRecordExpensesTemplate : return HTML
JurorRecordExpensesPage <- JurorRecordController : return HTML
Actor <- JurorRecordExpensesPage : render HTML

alt Initally navigated from expense record
  DefaultExpensesController -> ExpenseRecordController : call juror record controller controller
  ExpenseRecordController -> DraftExpenseRecordTemplate : request and build template
  ExpenseRecordController <- DraftExpenseRecordTemplate : return HTML
  DraftExpenseRecordPage <- ExpenseRecordController : return HTML
  Actor <- DraftExpenseRecordPage : render HTML
end







    
@end

@startuml add-default-expenses

skinparam Style strictuml 
skinparam SequenceMessageAlignment center

participant Actor

participant JurorRecordExpensesPage <</juror-management/record/:jurorNumber/expenses>>
participant DraftExpenseRecordPage <</juror-management/unpaid-attendance/expense-record/:jurorNumber/:poolNumber>>
participant DefaultExpensesPage <</juror-management/expenses/:jurorNumber/:poolNumber/default-expenses>>
participant GenericErrorPage <</error>>

participant JurorRecordController <<juror-record.controller.js>> #lightyellow
participant ExpenseRecordController <<expense-record.controller.js>> #lightyellow
participant DefaultExpensesController <<expenses.controller.js>> #lightyellow
participant DefaultExpensesObject <<defaultExpensesDAO.get()>> #lightyellow
participant SetDefaultExpensesObject <<defaultExpensesDAO.post()>> #lightyellow

participant JurorRecordExpensesTemplate <<juror-management/juror-record/expenses.njk>> #lavender
participant DraftExpenseRecordTemplate <<juror-management/expense-record/expense-record.njk>> #lavender
participant DefaultExpensesTemplate <<expenses/default-expenses.njk>> #lavender
participant ErrorTemplate <<_errors/generic.njk>> #lavender

participant DefaultExpensesValidator

participant BackendController

Actor -> JurorRecordExpensesPage : click add or change default expenses link
JurorRecordExpensesPage -> DefaultExpensesController : call expenses controller

alt Navigate from expense record
  Actor -> DraftExpenseRecordPage : click add or change default expenses link
  DraftExpenseRecordPage -> DefaultExpensesController : call expenses controller
end
 
DefaultExpensesController -> DefaultExpensesObject : build request object
DefaultExpensesObject -> BackendController : send backend request
DefaultExpensesObject <- BackendController : ok response
DefaultExpensesController <- DefaultExpensesObject : resolve request

alt Failed to fetch jurors default expenses
    DefaultExpensesObject <- - BackendController : error response
    DefaultExpensesController <- - DefaultExpensesObject : reject requestObject
    DefaultExpensesController -> ErrorTemplate : request and build template
    DefaultExpensesController <- ErrorTemplate : return HTML
    GenericErrorPage <- DefaultExpensesController : return HTML
    Actor <- GenericErrorPage : render error page
end

DefaultExpensesController -> DefaultExpensesTemplate : request and build template
DefaultExpensesController <- DefaultExpensesTemplate : return HTML
DefaultExpensesPage <- DefaultExpensesController : return HTML
Actor <- DefaultExpensesPage : render HTML

Actor -> DefaultExpensesPage : enters a valid default expense values

DefaultExpensesPage -> DefaultExpensesController : call page controller

DefaultExpensesController -> DefaultExpensesValidator : validate form

alt Invalid values entered
  DefaultExpensesController <- - DefaultExpensesValidator : data validation fails
  DefaultExpensesController -> DefaultExpensesTemplate : request and build error message template
  DefaultExpensesController <- DefaultExpensesTemplate : return HTML
  DefaultExpensesPage <- DefaultExpensesController : return HTML
  Actor <- DefaultExpensesPage : render error message
end

DefaultExpensesController <- DefaultExpensesValidator : valid values entered

DefaultExpensesController -> SetDefaultExpensesObject : build request object
SetDefaultExpensesObject -> BackendController : send backend request
SetDefaultExpensesObject <- BackendController : ok response
DefaultExpensesController <- SetDefaultExpensesObject : resolve request

alt Failed to set default expenses
    SetDefaultExpensesObject <- - BackendController : error response
    DefaultExpensesController <- - SetDefaultExpensesObject : reject requestObject
    DefaultExpensesController -> ErrorTemplate : request and build template
    DefaultExpensesController <- ErrorTemplate : return HTML
    GenericErrorPage <- DefaultExpensesController : return HTML
    Actor <- GenericErrorPage : render error page
end

DefaultExpensesController -> JurorRecordController : call juror record controller controller
JurorRecordController -> JurorRecordExpensesTemplate : request and build template
JurorRecordController <- JurorRecordExpensesTemplate : return HTML
JurorRecordExpensesPage <- JurorRecordController : return HTML
Actor <- JurorRecordExpensesPage : render HTML

alt Initally navigated from expense record
  DefaultExpensesController -> ExpenseRecordController : call juror record controller controller
  ExpenseRecordController -> DraftExpenseRecordTemplate : request and build template
  ExpenseRecordController <- DraftExpenseRecordTemplate : return HTML
  DraftExpenseRecordPage <- ExpenseRecordController : return HTML
  Actor <- DraftExpenseRecordPage : render HTML
end







    
@end

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>