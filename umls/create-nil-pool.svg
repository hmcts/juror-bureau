<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1789px" preserveAspectRatio="none" style="width:3100px;height:1789px;background:#FFFFFF;" version="1.1" viewBox="0 0 3100 1789" width="3100px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="458.9688" style="stroke:#000000;stroke-width:1.5;" width="2572" x="10" y="333.7715"/><rect fill="none" height="105.2422" style="stroke:#000000;stroke-width:1.5;" width="2552" x="20" y="680.498"/><rect fill="none" height="458.9688" style="stroke:#000000;stroke-width:1.5;" width="2689" x="10" y="806.7402"/><rect fill="none" height="105.2422" style="stroke:#000000;stroke-width:1.5;" width="2669" x="20" y="1153.4668"/><rect fill="none" height="134.5527" style="stroke:#000000;stroke-width:1.5;" width="2820" x="20" y="1631.4355"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="55" x2="55" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="173" x2="173" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="310" x2="310" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="425" x2="425" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="597" x2="597" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="806" x2="806" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1032" x2="1032" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1249" x2="1249" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1419" x2="1419" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1585" x2="1585" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1754" x2="1754" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1934" x2="1934" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2119" x2="2119" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2324" x2="2324" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2504" x2="2504" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2625" x2="2625" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2759" x2="2759" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2863" x2="2863" y1="52.9766" y2="1782.9883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2995" x2="2995" y1="52.9766" y2="1782.9883"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="30" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="37" y="42.0234">Actor</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="91" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="150" x="98" y="25.5352">«/pool-management»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="113.5" y="42.0234">PoolManagement</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="265" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77" x="272" y="25.5352">«/nil-pool»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="289" y="42.0234">Step 1</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="366" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104" x="373" y="25.5352">«/select-court»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="397" y="42.0234">Step 1.1</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207" x="494" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="193" x="501" y="25.5352">«/change-attendance-date»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="569.5" y="42.0234">Step 1.2</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="711" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="176" x="718" y="25.5352">«/nil-pool/check-details»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="784.5" y="42.0234">Step 2</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="243" x="911" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="229" x="918" y="25.5352">«pool-management.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="938" y="42.0234">PoolManagementController</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1164" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="156" x="1171" y="25.5352">«nil-pool.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1190" y="42.0234">NilPoolController</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="1344" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="136" x="1351" y="25.5352">«matchUserCourt()»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1357" y="42.0234">MatchCourtObject</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162" x="1504" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="148" x="1511" y="25.5352">«createNilPool.post()»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1516.5" y="42.0234">CreateNilPoolObject</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="1676" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="122" x="1693.5" y="25.5352">«select-court.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1683" y="42.0234">SelectCourtTemplate</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="1843" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="169" x="1850" y="25.5352">«pool-details/index.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1864.5" y="42.0234">PoolDetailsTemplate</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166" x="2036" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="131" x="2053.5" y="25.5352">«check-details.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="2043" y="42.0234">CheckDetailsTemplate</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="225" x="2212" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="211" x="2219" y="25.5352">«change-attendance-date.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="2250.5" y="42.0234">ChangeDateTemplate</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2447" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2454" y="42.0234">CourtValidator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="2572" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="2579" y="42.0234">DateValidator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="2689" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="2696" y="42.0234">BackendController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="2840" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="2847" y="42.0234">Page</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197" x="2897" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="2904" y="42.0234">PoolManagementTemplate</text><polygon fill="#181818" points="2851.5,80.2871,2861.5,84.2871,2851.5,88.2871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="55.5" x2="2857.5" y1="84.2871" y2="84.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1419" y="79.5449">request page</text><polygon fill="#181818" points="1043.5,109.5977,1033.5,113.5977,1043.5,117.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="2862.5" y1="113.5977" y2="113.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1887.5" y="108.8555">call page controller</text><polygon fill="#181818" points="1742.5,138.9082,1752.5,142.9082,1742.5,146.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1748.5" y1="142.9082" y2="142.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1309" y="138.166">request and build template</text><polygon fill="#181818" points="321.5,168.2188,311.5,172.2188,321.5,176.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="1753.5" y1="172.2188" y2="172.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="997" y="167.4766">return html</text><polygon fill="#181818" points="66.5,197.5293,56.5,201.5293,66.5,205.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.5" x2="309.5" y1="201.5293" y2="201.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="146.5" y="196.7871">render html</text><polygon fill="#181818" points="1020.5,226.8398,1030.5,230.8398,1020.5,234.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="1026.5" y1="230.8398" y2="230.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="611" y="226.0977">call page controller</text><polygon fill="#181818" points="1922.5,256.1504,1932.5,260.1504,1922.5,264.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1928.5" y1="260.1504" y2="260.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1399" y="255.4082">request and build template</text><polygon fill="#181818" points="321.5,285.4609,311.5,289.4609,321.5,293.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="1933.5" y1="289.4609" y2="289.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1087" y="284.7188">return html</text><polygon fill="#181818" points="66.5,314.7715,56.5,318.7715,66.5,322.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.5" x2="309.5" y1="318.7715" y2="318.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="146.5" y="314.0293">render html</text><path d="M10,333.7715 L72,333.7715 L72,341.082 L62,351.082 L10,351.082 L10,333.7715 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="458.9688" style="stroke:#000000;stroke-width:1.5;" width="2572" x="10" y="333.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="347.3398">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131" x="87" y="346.4063">[Change court location]</text><polygon fill="#181818" points="1020.5,368.3926,1030.5,372.3926,1020.5,376.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="1026.5" y1="372.3926" y2="372.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="611" y="367.6504">call page controller</text><polygon fill="#181818" points="1742.5,397.7031,1752.5,401.7031,1742.5,405.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1748.5" y1="401.7031" y2="401.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1309" y="396.9609">request and build template</text><polygon fill="#181818" points="436,427.0137,426,431.0137,436,435.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430" x2="1753.5" y1="431.0137" y2="431.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1054.25" y="426.2715">return html</text><polygon fill="#181818" points="66.5,456.3242,56.5,460.3242,66.5,464.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.5" x2="424" y1="460.3242" y2="460.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="203.75" y="455.582">render html</text><polygon fill="#181818" points="413,485.6348,423,489.6348,413,493.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="55.5" x2="419" y1="489.6348" y2="489.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="183.25" y="484.8926">select a new court</text><polygon fill="#181818" points="1020.5,514.9453,1030.5,518.9453,1020.5,522.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="425" x2="1026.5" y1="518.9453" y2="518.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="668.25" y="514.2031">call page controller</text><polygon fill="#181818" points="2492.5,544.2559,2502.5,548.2559,2492.5,552.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="2498.5" y1="548.2559" y2="548.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1697.5" y="543.5137">validate selected court</text><polygon fill="#181818" points="1043.5,573.5664,1033.5,577.5664,1043.5,581.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="2503.5" y1="577.5664" y2="577.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="1699.5" y="572.8242">selected court is valid</text><polygon fill="#181818" points="1922.5,602.877,1932.5,606.877,1922.5,610.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1928.5" y1="606.877" y2="606.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1399" y="602.1348">request and build template</text><polygon fill="#181818" points="321.5,632.1875,311.5,636.1875,321.5,640.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="1933.5" y1="636.1875" y2="636.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1087" y="631.4453">return html</text><polygon fill="#181818" points="66.5,661.498,56.5,665.498,66.5,669.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.5" x2="309.5" y1="665.498" y2="665.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="146.5" y="660.7559">render html</text><path d="M20,680.498 L82,680.498 L82,687.8086 L72,697.8086 L20,697.8086 L20,680.498 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="105.2422" style="stroke:#000000;stroke-width:1.5;" width="2552" x="20" y="680.498"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="694.0664">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154" x="97" y="693.1328">[Selected court is not valid]</text><polygon fill="#181818" points="1043.5,715.1191,1033.5,719.1191,1043.5,723.1191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1037.5" x2="2503.5" y1="719.1191" y2="719.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1723" y="714.377">error response</text><polygon fill="#181818" points="436,744.4297,426,748.4297,436,752.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="430" x2="1031.5" y1="748.4297" y2="748.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="683.25" y="743.6875">error response</text><polygon fill="#181818" points="66.5,773.7402,56.5,777.7402,66.5,781.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="60.5" x2="424" y1="777.7402" y2="777.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="173.75" y="772.998">render error message</text><path d="M10,806.7402 L72,806.7402 L72,814.0508 L62,824.0508 L10,824.0508 L10,806.7402 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="458.9688" style="stroke:#000000;stroke-width:1.5;" width="2689" x="10" y="806.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="820.3086">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="139" x="87" y="819.375">[Change attendance date]</text><polygon fill="#181818" points="1020.5,841.3613,1030.5,845.3613,1020.5,849.3613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="1026.5" y1="845.3613" y2="845.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="611" y="840.6191">call page controller</text><polygon fill="#181818" points="2312.5,870.6719,2322.5,874.6719,2312.5,878.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="2318.5" y1="874.6719" y2="874.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1594" y="869.9297">request and build template</text><polygon fill="#181818" points="608.5,899.9824,598.5,903.9824,608.5,907.9824" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="602.5" x2="2323.5" y1="903.9824" y2="903.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1425.5" y="899.2402">return html</text><polygon fill="#181818" points="66.5,929.293,56.5,933.293,66.5,937.293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.5" x2="596.5" y1="933.293" y2="933.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="290" y="928.5508">render html</text><polygon fill="#181818" points="585.5,958.6035,595.5,962.6035,585.5,966.6035" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="55.5" x2="591.5" y1="962.6035" y2="962.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="236" y="957.8613">select a new attendance date</text><polygon fill="#181818" points="1020.5,987.9141,1030.5,991.9141,1020.5,995.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="597.5" x2="1026.5" y1="991.9141" y2="991.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="754.5" y="987.1719">call page controller</text><polygon fill="#181818" points="2613.5,1017.2246,2623.5,1021.2246,2613.5,1025.2246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="2619.5" y1="1021.2246" y2="1021.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1761" y="1016.4824">validate selected date</text><polygon fill="#181818" points="1043.5,1046.5352,1033.5,1050.5352,1043.5,1054.5352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="2624.5" y1="1050.5352" y2="1050.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="1763" y="1045.793">selected date is valid</text><polygon fill="#181818" points="1922.5,1075.8457,1932.5,1079.8457,1922.5,1083.8457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1928.5" y1="1079.8457" y2="1079.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1399" y="1075.1035">request and build template</text><polygon fill="#181818" points="321.5,1105.1563,311.5,1109.1563,321.5,1113.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="1933.5" y1="1109.1563" y2="1109.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1087" y="1104.4141">return html</text><polygon fill="#181818" points="66.5,1134.4668,56.5,1138.4668,66.5,1142.4668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.5" x2="309.5" y1="1138.4668" y2="1138.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="146.5" y="1133.7246">render html</text><path d="M20,1153.4668 L82,1153.4668 L82,1160.7773 L72,1170.7773 L20,1170.7773 L20,1153.4668 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="105.2422" style="stroke:#000000;stroke-width:1.5;" width="2669" x="20" y="1153.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="1167.0352">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148" x="97" y="1166.1016">[Selected date is not valid]</text><polygon fill="#181818" points="1043.5,1188.0879,1033.5,1192.0879,1043.5,1196.0879" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1037.5" x2="2624.5" y1="1192.0879" y2="1192.0879"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1783.5" y="1187.3457">error response</text><polygon fill="#181818" points="608.5,1217.3984,598.5,1221.3984,608.5,1225.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="602.5" x2="1031.5" y1="1221.3984" y2="1221.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="769.5" y="1216.6563">error response</text><polygon fill="#181818" points="66.5,1246.709,56.5,1250.709,66.5,1254.709" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="60.5" x2="596.5" y1="1250.709" y2="1250.709"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="260" y="1245.9668">render error message</text><polygon fill="#181818" points="1020.5,1290.0195,1030.5,1294.0195,1020.5,1298.0195" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="1026.5" y1="1294.0195" y2="1294.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="611" y="1289.2773">call page controller</text><polygon fill="#181818" points="2107,1319.3301,2117,1323.3301,2107,1327.3301" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="2113" y1="1323.3301" y2="1323.3301"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1491.25" y="1318.5879">request and build template</text><polygon fill="#181818" points="817,1348.6406,807,1352.6406,817,1356.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="811" x2="2118" y1="1352.6406" y2="1352.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1427" y="1347.8984">return html</text><polygon fill="#181818" points="66.5,1377.9512,56.5,1381.9512,66.5,1385.9512" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.5" x2="805" y1="1381.9512" y2="1381.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="394.25" y="1377.209">render html</text><polygon fill="#181818" points="1020.5,1407.2617,1030.5,1411.2617,1020.5,1415.2617" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="806" x2="1026.5" y1="1411.2617" y2="1411.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="858.75" y="1406.5195">call page controller</text><polygon fill="#181818" points="1573,1436.5723,1583,1440.5723,1573,1444.5723" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1579" y1="1440.5723" y2="1440.5723"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1251.75" y="1435.8301">call requestObject</text><polygon fill="#181818" points="2747.5,1465.8828,2757.5,1469.8828,2747.5,1473.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1585" x2="2753.5" y1="1469.8828" y2="1469.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="2142.75" y="1465.1406">post data</text><polygon fill="#181818" points="1596,1495.1934,1586,1499.1934,1596,1503.1934" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1590" x2="2758.5" y1="1499.1934" y2="1499.1934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="2133.75" y="1494.4512">response ok</text><polygon fill="#181818" points="1043.5,1524.5039,1033.5,1528.5039,1043.5,1532.5039" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1037.5" x2="1584" y1="1528.5039" y2="1528.5039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1240.25" y="1523.7617">resolve requestObject</text><polygon fill="#181818" points="2983.5,1553.8145,2993.5,1557.8145,2983.5,1561.8145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="2989.5" y1="1557.8145" y2="1557.8145"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1929.5" y="1553.0723">request and build template</text><polygon fill="#181818" points="184,1583.125,174,1587.125,184,1591.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="178" x2="2994.5" y1="1587.125" y2="1587.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="1548.75" y="1582.3828">return html</text><polygon fill="#181818" points="66.5,1612.4355,56.5,1616.4355,66.5,1620.4355" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60.5" x2="172" y1="1616.4355" y2="1616.4355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="77.75" y="1611.6934">render html</text><path d="M20,1631.4355 L82,1631.4355 L82,1638.7461 L72,1648.7461 L20,1648.7461 L20,1631.4355 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="134.5527" style="stroke:#000000;stroke-width:1.5;" width="2820" x="20" y="1631.4355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="1645.0039">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147" x="97" y="1644.0703">[Backend returns an error]</text><polygon fill="#181818" points="1596,1666.0566,1586,1670.0566,1596,1674.0566" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1590" x2="2758.5" y1="1670.0566" y2="1670.0566"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2126.75" y="1665.3145">error response</text><polygon fill="#181818" points="1043.5,1695.3672,1033.5,1699.3672,1043.5,1703.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1037.5" x2="1584" y1="1699.3672" y2="1699.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1245.25" y="1694.625">reject requestObject</text><polygon fill="#181818" points="817,1724.6777,807,1728.6777,817,1732.6777" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="811" x2="1031.5" y1="1728.6777" y2="1728.6777"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="873.75" y="1723.9355">error response</text><polygon fill="#181818" points="66.5,1753.9883,56.5,1757.9883,66.5,1761.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="60.5" x2="805" y1="1757.9883" y2="1757.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="364.25" y="1753.2461">render error message</text><!--MD5=[6e0d2727d083ba0ad9c7eaf495f80f32]
@startuml create-nil-pool

skinparam Style strictuml 
skinparam SequenceMessageAlignment center

participant Actor

''' LOCAL ROUTING
participant PoolManagement <</pool-management>>
participant "Step 1" <</nil-pool>>
participant "Step 1.1" <</select-court>>
participant "Step 1.2" <</change-attendance-date>>
participant "Step 2" <</nil-pool/check-details>>

''' CONTROLLER AND REQUEST OBJECTS
participant PoolManagementController <<pool-management.controller.js>>
participant NilPoolController <<nil-pool.controller.js>>
participant MatchCourtObject <<matchUserCourt()>>
participant CreateNilPoolObject <<createNilPool.post()>>

''' TEMPLATES
participant SelectCourtTemplate <<select-court.njk>>
participant PoolDetailsTemplate <<pool-details/index.njk>>
participant CheckDetailsTemplate <<check-details.njk>>
participant ChangeDateTemplate <<change-attendance-date.njk>>

''' FILTERS AND VALIDATORS
participant CourtValidator
participant DateValidator

''' BACKEND CONTROLLER
participant BackendController



''' JOURNEY FLOW
Actor -> Page : request page

Page -> PoolManagementController : call page controller
PoolManagementController -> SelectCourtTemplate : request and build template
"Step 1" <- SelectCourtTemplate : return html
Actor <- "Step 1" : render html

"Step 1" -> PoolManagementController : call page controller
PoolManagementController -> PoolDetailsTemplate : request and build template
"Step 1" <- PoolDetailsTemplate : return html
Actor <- "Step 1" : render html

alt Change court location
  "Step 1" -> PoolManagementController : call page controller
  PoolManagementController -> SelectCourtTemplate : request and build template
  "Step 1.1" <- SelectCourtTemplate : return html
  Actor <- "Step 1.1" : render html
  Actor -> "Step 1.1" : select a new court
  "Step 1.1" -> PoolManagementController : call page controller
  PoolManagementController -> CourtValidator : validate selected court
  PoolManagementController <- CourtValidator : selected court is valid
  PoolManagementController -> PoolDetailsTemplate : request and build template
  "Step 1" <- PoolDetailsTemplate : return html
  Actor <- "Step 1" : render html

  alt Selected court is not valid
    PoolManagementController <- - CourtValidator : error response
    "Step 1.1" <- - PoolManagementController : error response
    Actor <- - "Step 1.1" : render error message
  end
end

alt Change attendance date
  "Step 1" -> PoolManagementController : call page controller
  PoolManagementController -> ChangeDateTemplate : request and build template
  "Step 1.2" <- ChangeDateTemplate : return html
  Actor <- "Step 1.2" : render html
  Actor -> "Step 1.2" : select a new attendance date
  "Step 1.2" -> PoolManagementController : call page controller
  PoolManagementController -> DateValidator : validate selected date
  PoolManagementController <- DateValidator : selected date is valid
  PoolManagementController -> PoolDetailsTemplate : request and build template
  "Step 1" <- PoolDetailsTemplate : return html
  Actor <- "Step 1" : render html

  alt Selected date is not valid
    PoolManagementController <- - DateValidator : error response
    "Step 1.2" <- - PoolManagementController : error response
    Actor <- - "Step 1.2" : render error message
  end
end

"Step 1" -> PoolManagementController : call page controller
PoolManagementController -> CheckDetailsTemplate : request and build template
"Step 2" <- CheckDetailsTemplate : return html
Actor <- "Step 2" : render html

"Step 2" -> PoolManagementController : call page controller
PoolManagementController -> CreateNilPoolObject : call requestObject
CreateNilPoolObject -> BackendController : post data
CreateNilPoolObject <- BackendController : response ok

PoolManagementController <- CreateNilPoolObject : resolve requestObject
PoolManagementController -> PoolManagementTemplate : request and build template
PoolManagement <- PoolManagementTemplate : return html
Actor <- PoolManagement : render html

alt Backend returns an error
  CreateNilPoolObject <- - BackendController : error response
  PoolManagementController <- - CreateNilPoolObject : reject requestObject
  "Step 2" <- - PoolManagementController : error response
  Actor <- - "Step 2" : render error message
end

@enduml

@startuml create-nil-pool

skinparam Style strictuml 
skinparam SequenceMessageAlignment center

participant Actor

participant PoolManagement <</pool-management>>
participant "Step 1" <</nil-pool>>
participant "Step 1.1" <</select-court>>
participant "Step 1.2" <</change-attendance-date>>
participant "Step 2" <</nil-pool/check-details>>

participant PoolManagementController <<pool-management.controller.js>>
participant NilPoolController <<nil-pool.controller.js>>
participant MatchCourtObject <<matchUserCourt()>>
participant CreateNilPoolObject <<createNilPool.post()>>

participant SelectCourtTemplate <<select-court.njk>>
participant PoolDetailsTemplate <<pool-details/index.njk>>
participant CheckDetailsTemplate <<check-details.njk>>
participant ChangeDateTemplate <<change-attendance-date.njk>>

participant CourtValidator
participant DateValidator

participant BackendController



Actor -> Page : request page

Page -> PoolManagementController : call page controller
PoolManagementController -> SelectCourtTemplate : request and build template
"Step 1" <- SelectCourtTemplate : return html
Actor <- "Step 1" : render html

"Step 1" -> PoolManagementController : call page controller
PoolManagementController -> PoolDetailsTemplate : request and build template
"Step 1" <- PoolDetailsTemplate : return html
Actor <- "Step 1" : render html

alt Change court location
  "Step 1" -> PoolManagementController : call page controller
  PoolManagementController -> SelectCourtTemplate : request and build template
  "Step 1.1" <- SelectCourtTemplate : return html
  Actor <- "Step 1.1" : render html
  Actor -> "Step 1.1" : select a new court
  "Step 1.1" -> PoolManagementController : call page controller
  PoolManagementController -> CourtValidator : validate selected court
  PoolManagementController <- CourtValidator : selected court is valid
  PoolManagementController -> PoolDetailsTemplate : request and build template
  "Step 1" <- PoolDetailsTemplate : return html
  Actor <- "Step 1" : render html

  alt Selected court is not valid
    PoolManagementController <- - CourtValidator : error response
    "Step 1.1" <- - PoolManagementController : error response
    Actor <- - "Step 1.1" : render error message
  end
end

alt Change attendance date
  "Step 1" -> PoolManagementController : call page controller
  PoolManagementController -> ChangeDateTemplate : request and build template
  "Step 1.2" <- ChangeDateTemplate : return html
  Actor <- "Step 1.2" : render html
  Actor -> "Step 1.2" : select a new attendance date
  "Step 1.2" -> PoolManagementController : call page controller
  PoolManagementController -> DateValidator : validate selected date
  PoolManagementController <- DateValidator : selected date is valid
  PoolManagementController -> PoolDetailsTemplate : request and build template
  "Step 1" <- PoolDetailsTemplate : return html
  Actor <- "Step 1" : render html

  alt Selected date is not valid
    PoolManagementController <- - DateValidator : error response
    "Step 1.2" <- - PoolManagementController : error response
    Actor <- - "Step 1.2" : render error message
  end
end

"Step 1" -> PoolManagementController : call page controller
PoolManagementController -> CheckDetailsTemplate : request and build template
"Step 2" <- CheckDetailsTemplate : return html
Actor <- "Step 2" : render html

"Step 2" -> PoolManagementController : call page controller
PoolManagementController -> CreateNilPoolObject : call requestObject
CreateNilPoolObject -> BackendController : post data
CreateNilPoolObject <- BackendController : response ok

PoolManagementController <- CreateNilPoolObject : resolve requestObject
PoolManagementController -> PoolManagementTemplate : request and build template
PoolManagement <- PoolManagementTemplate : return html
Actor <- PoolManagement : render html

alt Backend returns an error
  CreateNilPoolObject <- - BackendController : error response
  PoolManagementController <- - CreateNilPoolObject : reject requestObject
  "Step 2" <- - PoolManagementController : error response
  Actor <- - "Step 2" : render error message
end

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>