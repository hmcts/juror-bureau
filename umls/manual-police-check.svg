<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="756px" preserveAspectRatio="none" style="width:2403px;height:756px;background:#FFFFFF;" version="1.1" viewBox="0 0 2403 756" width="2403px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="2387" x="10" y="451.0137"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="45" x2="45" y1="52.9766" y2="749.1191"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="274" x2="274" y1="52.9766" y2="749.1191"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="694" x2="694" y1="52.9766" y2="749.1191"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="989" x2="989" y1="52.9766" y2="749.1191"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1166" x2="1166" y1="52.9766" y2="749.1191"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1399" x2="1399" y1="52.9766" y2="749.1191"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1637" x2="1637" y1="52.9766" y2="749.1191"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1910" x2="1910" y1="52.9766" y2="749.1191"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2156" x2="2156" y1="52.9766" y2="749.1191"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2316" x2="2316" y1="52.9766" y2="749.1191"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="20" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="27" y="42.0234">Actor</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="386" x="81" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="372" x="88" y="25.5352">«/juror-management/record/:jurorNumber/overview»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="185.5" y="42.0234">JurorRecordOverviewPage</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="435" x="477" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="421" x="484" y="25.5352">«/juror-management/juror/:jurorNumber/run-police-check»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="612" y="42.0234">ManualPoliceCheckPage</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="922" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="961" y="25.5352">«/error»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="929" y="42.0234">GenericErrorPage</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="1066" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="187" x="1073" y="25.5352">«juror-record.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="1090.5" y="42.0234">JurorRecordController</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="244" x="1277" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="230" x="1284" y="25.5352">«juror-police-check.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="1323" y="42.0234">PoliceCheckController</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="1531" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="199" x="1538" y="25.5352">«manualPoliceCheck.patch()»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="1549.5" y="42.0234">ManualPoliceCheckObject</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="312" x="1754" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="298" x="1761" y="25.5352">«juror-management/run-police-check.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="1812" y="42.0234">ManualPoliceCheckTemplate</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="2076" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="146" x="2083" y="25.5352">«_errors/generic.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="2106.5" y="42.0234">ErrorTemplate</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="2246" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="2253" y="42.0234">BackendController</text><polygon fill="#181818" points="262,80.2871,272,84.2871,262,88.2871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.5" x2="268" y1="84.2871" y2="84.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="76.75" y="79.5449">click run police check link</text><polygon fill="#181818" points="1154.5,109.5977,1164.5,113.5977,1154.5,117.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="274" x2="1160.5" y1="113.5977" y2="113.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="659.75" y="108.8555">call page controller</text><polygon fill="#181818" points="1387,138.9082,1397,142.9082,1387,146.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1166.5" x2="1393" y1="142.9082" y2="142.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="1197.75" y="138.166">call police check controller</text><polygon fill="#181818" points="1898,168.2188,1908,172.2188,1898,176.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1399" x2="1904" y1="172.2188" y2="172.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1570" y="167.4766">request and build template</text><polygon fill="#181818" points="1410,197.5293,1400,201.5293,1410,205.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1404" x2="1909" y1="201.5293" y2="201.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1615.5" y="196.7871">return HTML</text><polygon fill="#181818" points="705.5,226.8398,695.5,230.8398,705.5,234.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="699.5" x2="1398" y1="230.8398" y2="230.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1007.75" y="226.0977">return HTML</text><polygon fill="#181818" points="56.5,256.1504,46.5,260.1504,56.5,264.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="693.5" y1="260.1504" y2="260.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="330" y="255.4082">render HTML</text><polygon fill="#181818" points="682.5,285.4609,692.5,289.4609,682.5,293.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.5" x2="688.5" y1="289.4609" y2="289.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="278" y="284.7188">click run police check button</text><polygon fill="#181818" points="1387,314.7715,1397,318.7715,1387,322.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="694.5" x2="1393" y1="318.7715" y2="318.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="986.25" y="314.0293">call page conrtoller</text><polygon fill="#181818" points="1625.5,344.082,1635.5,348.082,1625.5,352.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1399" x2="1631.5" y1="348.082" y2="348.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1455.25" y="343.3398">build request object</text><polygon fill="#181818" points="2304.5,373.3926,2314.5,377.3926,2304.5,381.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1637.5" x2="2310.5" y1="377.3926" y2="377.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="1908" y="372.6504">send backend request</text><polygon fill="#181818" points="1648.5,402.7031,1638.5,406.7031,1648.5,410.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1642.5" x2="2315.5" y1="406.7031" y2="406.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="1938.5" y="401.9609">ok response</text><polygon fill="#181818" points="1410,432.0137,1400,436.0137,1410,440.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1404" x2="1636.5" y1="436.0137" y2="436.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1470.25" y="431.2715">resolve request</text><path d="M10,451.0137 L72,451.0137 L72,458.3242 L62,468.3242 L10,468.3242 L10,451.0137 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="2387" x="10" y="451.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="464.582">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="153" x="87" y="463.6484">[Failed to run police check]</text><polygon fill="#181818" points="1648.5,485.6348,1638.5,489.6348,1648.5,493.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1642.5" x2="2315.5" y1="489.6348" y2="489.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1931.5" y="484.8926">error response</text><polygon fill="#181818" points="1410,514.9453,1400,518.9453,1410,522.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1404" x2="1636.5" y1="518.9453" y2="518.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1454.75" y="514.2031">reject requestObject</text><polygon fill="#181818" points="2144,544.2559,2154,548.2559,2144,552.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1399" x2="2150" y1="548.2559" y2="548.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1693" y="543.5137">request and build template</text><polygon fill="#181818" points="1410,573.5664,1400,577.5664,1410,581.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1404" x2="2155" y1="577.5664" y2="577.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1738.5" y="572.8242">return HTML</text><polygon fill="#181818" points="1000,602.877,990,606.877,1000,610.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="994" x2="1398" y1="606.877" y2="606.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1155" y="602.1348">return HTML</text><polygon fill="#181818" points="56.5,632.1875,46.5,636.1875,56.5,640.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="988" y1="636.1875" y2="636.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="463.25" y="631.4453">render error page</text><polygon fill="#181818" points="1177.5,668.498,1167.5,672.498,1177.5,676.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1171.5" x2="1398" y1="672.498" y2="672.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1200.25" y="667.7559">call juror record controller</text><polygon fill="#181818" points="285,697.8086,275,701.8086,285,705.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="279" x2="1165.5" y1="701.8086" y2="701.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="681.25" y="697.0664">return HTML</text><polygon fill="#181818" points="56.5,727.1191,46.5,731.1191,56.5,735.1191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="273" y1="731.1191" y2="731.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="119.75" y="726.377">render HTML</text><!--MD5=[69bcfbc340996824a3cdb14c43dae11f]
@startuml manual-police-check

skinparam Style strictuml 
skinparam SequenceMessageAlignment center

participant Actor

''' LOCAL ROUTING
participant JurorRecordOverviewPage <</juror-management/record/:jurorNumber/overview>>
participant ManualPoliceCheckPage <</juror-management/juror/:jurorNumber/run-police-check>>
participant GenericErrorPage <</error>>

''' CONTROLLER AND REQUEST OBJECTS
participant JurorRecordController <<juror-record.controller.js>> #lightyellow
participant PoliceCheckController <<juror-police-check.controller.js>> #lightyellow
participant ManualPoliceCheckObject <<manualPoliceCheck.patch()>> #lightyellow

''' TEMPLATES
participant ManualPoliceCheckTemplate <<juror-management/run-police-check.njk>> #lavender
participant ErrorTemplate <<_errors/generic.njk>> #lavender

''' BACKEND CONTROLLER
participant BackendController

Actor -> JurorRecordOverviewPage : click run police check link

JurorRecordOverviewPage -> JurorRecordController : call page controller

JurorRecordController -> PoliceCheckController : call police check controller

PoliceCheckController -> ManualPoliceCheckTemplate : request and build template
PoliceCheckController <- ManualPoliceCheckTemplate : return HTML
ManualPoliceCheckPage <- PoliceCheckController : return HTML
Actor <- ManualPoliceCheckPage : render HTML

Actor -> ManualPoliceCheckPage : click run police check button

ManualPoliceCheckPage -> PoliceCheckController : call page conrtoller

PoliceCheckController -> ManualPoliceCheckObject : build request object
ManualPoliceCheckObject -> BackendController : send backend request
ManualPoliceCheckObject <- BackendController : ok response
PoliceCheckController <- ManualPoliceCheckObject : resolve request

alt Failed to run police check
    ManualPoliceCheckObject <- - BackendController : error response
    PoliceCheckController <- - ManualPoliceCheckObject : reject requestObject
    PoliceCheckController -> ErrorTemplate : request and build template
    PoliceCheckController <- ErrorTemplate : return HTML
    GenericErrorPage <- PoliceCheckController : return HTML
    Actor <- GenericErrorPage : render error page
end

JurorRecordController <- PoliceCheckController : call juror record controller
JurorRecordOverviewPage <- JurorRecordController : return HTML
Actor <- JurorRecordOverviewPage : render HTML








    
@end

@startuml manual-police-check

skinparam Style strictuml 
skinparam SequenceMessageAlignment center

participant Actor

participant JurorRecordOverviewPage <</juror-management/record/:jurorNumber/overview>>
participant ManualPoliceCheckPage <</juror-management/juror/:jurorNumber/run-police-check>>
participant GenericErrorPage <</error>>

participant JurorRecordController <<juror-record.controller.js>> #lightyellow
participant PoliceCheckController <<juror-police-check.controller.js>> #lightyellow
participant ManualPoliceCheckObject <<manualPoliceCheck.patch()>> #lightyellow

participant ManualPoliceCheckTemplate <<juror-management/run-police-check.njk>> #lavender
participant ErrorTemplate <<_errors/generic.njk>> #lavender

participant BackendController

Actor -> JurorRecordOverviewPage : click run police check link

JurorRecordOverviewPage -> JurorRecordController : call page controller

JurorRecordController -> PoliceCheckController : call police check controller

PoliceCheckController -> ManualPoliceCheckTemplate : request and build template
PoliceCheckController <- ManualPoliceCheckTemplate : return HTML
ManualPoliceCheckPage <- PoliceCheckController : return HTML
Actor <- ManualPoliceCheckPage : render HTML

Actor -> ManualPoliceCheckPage : click run police check button

ManualPoliceCheckPage -> PoliceCheckController : call page conrtoller

PoliceCheckController -> ManualPoliceCheckObject : build request object
ManualPoliceCheckObject -> BackendController : send backend request
ManualPoliceCheckObject <- BackendController : ok response
PoliceCheckController <- ManualPoliceCheckObject : resolve request

alt Failed to run police check
    ManualPoliceCheckObject <- - BackendController : error response
    PoliceCheckController <- - ManualPoliceCheckObject : reject requestObject
    PoliceCheckController -> ErrorTemplate : request and build template
    PoliceCheckController <- ErrorTemplate : return HTML
    GenericErrorPage <- PoliceCheckController : return HTML
    Actor <- GenericErrorPage : render error page
end

JurorRecordController <- PoliceCheckController : call juror record controller
JurorRecordOverviewPage <- JurorRecordController : return HTML
Actor <- JurorRecordOverviewPage : render HTML








    
@end

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>