<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1614px" preserveAspectRatio="none" style="width:4519px;height:1614px;background:#FFFFFF;" version="1.1" viewBox="0 0 4519 1614" width="4519px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="2517" x="10" y="128.5977"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="4503" x="10" y="335.7715"/><rect fill="none" height="163.8633" style="stroke:#000000;stroke-width:1.5;" width="4352" x="10" y="748.1191"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="4503" x="10" y="1072.5352"/><rect fill="none" height="163.8633" style="stroke:#000000;stroke-width:1.5;" width="3761" x="10" y="1426.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="45" x2="45" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="301" x2="301" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="817" x2="817" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1403" x2="1403" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1745" x2="1745" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1922" x2="1922" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2145" x2="2145" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2399" x2="2399" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2631" x2="2631" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2857" x2="2857" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3154" x2="3154" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3550" x2="3550" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3894" x2="3894" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="4107" x2="4107" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="4274" x2="4274" y1="52.9766" y2="1607.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="4432" x2="4432" y1="52.9766" y2="1607.125"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="20" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="27" y="42.0234">Actor</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="391" x="106" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="377" x="113" y="25.5352">«/juror-management/record/:jurorNumber/expenses»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="211.5" y="42.0234">JurorRecordExpensesPage</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="621" x="507" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="607" x="514" y="25.5352">«/juror-management/unpaid-attendance/expense-record/:jurorNumber/:poolNumber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="731" y="42.0234">DraftExpenseRecordPage</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="530" x="1138" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="516" x="1145" y="25.5352">«/juror-management/expenses/:jurorNumber/:poolNumber/bank-details»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1347" y="42.0234">BankDetailsPage</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1678" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="1717" y="25.5352">«/error»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1685" y="42.0234">GenericErrorPage</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="1822" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="187" x="1829" y="25.5352">«juror-record.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="1846.5" y="42.0234">JurorRecordController</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="225" x="2033" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="211" x="2040" y="25.5352">«expense-record.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="2057.5" y="42.0234">ExpenseRecordController</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="235" x="2282" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="221" x="2289" y="25.5352">«edit-bank-details.controller.js»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="2312" y="42.0234">EditBankDetailsController</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="208" x="2527" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="194" x="2534" y="25.5352">«jurorBankDetailsDAO.get()»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="2569.5" y="42.0234">BankDetailsObject</text><rect fill="#FFFFE0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224" x="2745" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="210" x="2752" y="25.5352">«jurorBankDetailsDAO.patch()»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="2785" y="42.0234">SetBankDetailsObject</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="351" x="2979" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="337" x="2986" y="25.5352">«juror-management/juror-record/expenses.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="3049" y="42.0234">JurorRecordExpensesTemplate</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="421" x="3340" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="407" x="3347" y="25.5352">«juror-management/expense-record/expense-record.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="3448.5" y="42.0234">DraftExpenseRecordTemplate</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="3771" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="232" x="3778" y="25.5352">«expenses/default-expenses.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="3822.5" y="42.0234">BankDetailsTemplate</text><rect fill="#E6E6FA" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="4027" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="146" x="4034" y="25.5352">«_errors/generic.njk»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="4057.5" y="42.0234">ErrorTemplate</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="4197" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="4204" y="42.0234">BankDetailsValidator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="4362" y="21.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="4369" y="42.0234">BackendController</text><polygon fill="#181818" points="289.5,80.2871,299.5,84.2871,289.5,88.2871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.5" x2="295.5" y1="84.2871" y2="84.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="57.5" y="79.5449">click add or change bank details link</text><polygon fill="#181818" points="2387.5,109.5977,2397.5,113.5977,2387.5,117.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="301.5" x2="2393.5" y1="113.5977" y2="113.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1266.5" y="108.8555">call bank details controller</text><path d="M10,128.5977 L72,128.5977 L72,135.9082 L62,145.9082 L10,145.9082 L10,128.5977 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="2517" x="10" y="128.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="142.166">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="176" x="87" y="141.2324">[Navigate from expense record]</text><polygon fill="#181818" points="805.5,163.2188,815.5,167.2188,805.5,171.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.5" x2="811.5" y1="167.2188" y2="167.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="315.5" y="162.4766">click add or change bank details link</text><polygon fill="#181818" points="2387.5,192.5293,2397.5,196.5293,2387.5,200.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="817.5" x2="2393.5" y1="196.5293" y2="196.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1524.5" y="191.7871">call bank details controller</text><polygon fill="#181818" points="2619,228.8398,2629,232.8398,2619,236.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2399.5" x2="2625" y1="232.8398" y2="232.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="2452.25" y="228.0977">build request object</text><polygon fill="#181818" points="4420.5,258.1504,4430.5,262.1504,4420.5,266.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2631" x2="4426.5" y1="262.1504" y2="262.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="3462.75" y="257.4082">send backend request</text><polygon fill="#181818" points="2642,287.4609,2632,291.4609,2642,295.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2636" x2="4431.5" y1="291.4609" y2="291.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="3493.25" y="286.7188">ok response</text><polygon fill="#181818" points="2410.5,316.7715,2400.5,320.7715,2410.5,324.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2404.5" x2="2630" y1="320.7715" y2="320.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="2467.25" y="316.0293">resolve request</text><path d="M10,335.7715 L72,335.7715 L72,343.082 L62,353.082 L10,353.082 L10,335.7715 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="4503" x="10" y="335.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="349.3398">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="198" x="87" y="348.4063">[Failed to fetch jurors bank details]</text><polygon fill="#181818" points="2642,370.3926,2632,374.3926,2642,378.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2636" x2="4431.5" y1="374.3926" y2="374.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="3486.25" y="369.6504">error response</text><polygon fill="#181818" points="2410.5,399.7031,2400.5,403.7031,2410.5,407.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2404.5" x2="2630" y1="403.7031" y2="403.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="2451.75" y="398.9609">reject requestObject</text><polygon fill="#181818" points="4095,429.0137,4105,433.0137,4095,437.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2399.5" x2="4101" y1="433.0137" y2="433.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="3168.75" y="428.2715">request and build template</text><polygon fill="#181818" points="2410.5,458.3242,2400.5,462.3242,2410.5,466.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2404.5" x2="4106" y1="462.3242" y2="462.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="3214.25" y="457.582">return HTML</text><polygon fill="#181818" points="1756,487.6348,1746,491.6348,1756,495.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1750" x2="2398.5" y1="491.6348" y2="491.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2033.25" y="486.8926">return HTML</text><polygon fill="#181818" points="56.5,516.9453,46.5,520.9453,56.5,524.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="1744" y1="520.9453" y2="520.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="841.25" y="516.2031">render error page</text><polygon fill="#181818" points="3882,553.2559,3892,557.2559,3882,561.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2399.5" x2="3888" y1="557.2559" y2="557.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="3062.25" y="552.5137">request and build template</text><polygon fill="#181818" points="2410.5,582.5664,2400.5,586.5664,2410.5,590.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2404.5" x2="3893" y1="586.5664" y2="586.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="3107.75" y="581.8242">return HTML</text><polygon fill="#181818" points="1414,611.877,1404,615.877,1414,619.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1408" x2="2398.5" y1="615.877" y2="615.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1862.25" y="611.1348">return HTML</text><polygon fill="#181818" points="56.5,641.1875,46.5,645.1875,56.5,649.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="1402" y1="645.1875" y2="645.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="684.25" y="640.4453">render HTML</text><polygon fill="#181818" points="1391,670.498,1401,674.498,1391,678.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="45.5" x2="1397" y1="674.498" y2="674.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="625.25" y="669.7559">enters valid bank details values</text><polygon fill="#181818" points="2387.5,699.8086,2397.5,703.8086,2387.5,707.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1403" x2="2393.5" y1="703.8086" y2="703.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1840.75" y="699.0664">call page controller</text><polygon fill="#181818" points="4262.5,729.1191,4272.5,733.1191,4262.5,737.1191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2399.5" x2="4268.5" y1="733.1191" y2="733.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="3295.5" y="728.377">validate form</text><path d="M10,748.1191 L72,748.1191 L72,755.4297 L62,765.4297 L10,765.4297 L10,748.1191 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="163.8633" style="stroke:#000000;stroke-width:1.5;" width="4352" x="10" y="748.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="761.6875">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="87" y="760.7539">[Invalid values entered]</text><polygon fill="#181818" points="2410.5,782.7402,2400.5,786.7402,2410.5,790.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2404.5" x2="4273.5" y1="786.7402" y2="786.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="3275" y="781.998">data validation fails</text><polygon fill="#181818" points="3882,812.0508,3892,816.0508,3882,820.0508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2399.5" x2="3888" y1="816.0508" y2="816.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="3015.75" y="811.3086">request and build error message template</text><polygon fill="#181818" points="2410.5,841.3613,2400.5,845.3613,2410.5,849.3613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2404.5" x2="3893" y1="845.3613" y2="845.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="3107.75" y="840.6191">return HTML</text><polygon fill="#181818" points="1414,870.6719,1404,874.6719,1414,878.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1408" x2="2398.5" y1="874.6719" y2="874.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1862.25" y="869.9297">return HTML</text><polygon fill="#181818" points="56.5,899.9824,46.5,903.9824,56.5,907.9824" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="1402" y1="903.9824" y2="903.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="657.75" y="899.2402">render error message</text><polygon fill="#181818" points="2410.5,936.293,2400.5,940.293,2410.5,944.293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2404.5" x2="4273.5" y1="940.293" y2="940.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="3274.5" y="935.5508">valid values entered</text><polygon fill="#181818" points="2845,965.6035,2855,969.6035,2845,973.6035" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2399.5" x2="2851" y1="969.6035" y2="969.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="2565.25" y="964.8613">build request object</text><polygon fill="#181818" points="4420.5,994.9141,4430.5,998.9141,4420.5,1002.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2857" x2="4426.5" y1="998.9141" y2="998.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="3575.75" y="994.1719">send backend request</text><polygon fill="#181818" points="2868,1024.2246,2858,1028.2246,2868,1032.2246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2862" x2="4431.5" y1="1028.2246" y2="1028.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="3606.25" y="1023.4824">ok response</text><polygon fill="#181818" points="2410.5,1053.5352,2400.5,1057.5352,2410.5,1061.5352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2404.5" x2="2856" y1="1057.5352" y2="1057.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="2580.25" y="1052.793">resolve request</text><path d="M10,1072.5352 L72,1072.5352 L72,1079.8457 L62,1089.8457 L10,1089.8457 L10,1072.5352 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:1.5;" width="4503" x="10" y="1072.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="1086.1035">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="186" x="87" y="1085.1699">[Failed to set jurors bank details]</text><polygon fill="#181818" points="2868,1107.1563,2858,1111.1563,2868,1115.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2862" x2="4431.5" y1="1111.1563" y2="1111.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="3599.25" y="1106.4141">error response</text><polygon fill="#181818" points="2410.5,1136.4668,2400.5,1140.4668,2410.5,1144.4668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2404.5" x2="2856" y1="1140.4668" y2="1140.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="2564.75" y="1135.7246">reject requestObject</text><polygon fill="#181818" points="4095,1165.7773,4105,1169.7773,4095,1173.7773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2399.5" x2="4101" y1="1169.7773" y2="1169.7773"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="3168.75" y="1165.0352">request and build template</text><polygon fill="#181818" points="2410.5,1195.0879,2400.5,1199.0879,2410.5,1203.0879" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2404.5" x2="4106" y1="1199.0879" y2="1199.0879"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="3214.25" y="1194.3457">return HTML</text><polygon fill="#181818" points="1756,1224.3984,1746,1228.3984,1756,1232.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1750" x2="2398.5" y1="1228.3984" y2="1228.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2033.25" y="1223.6563">return HTML</text><polygon fill="#181818" points="56.5,1253.709,46.5,1257.709,56.5,1261.709" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="1744" y1="1257.709" y2="1257.709"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="841.25" y="1252.9668">render error page</text><polygon fill="#181818" points="1933.5,1290.0195,1923.5,1294.0195,1933.5,1298.0195" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1927.5" x2="2398.5" y1="1294.0195" y2="1294.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="2046" y="1289.2773">call juror record controller controller</text><polygon fill="#181818" points="3142.5,1319.3301,3152.5,1323.3301,3142.5,1327.3301" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1922.5" x2="3148.5" y1="1323.3301" y2="1323.3301"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="2454" y="1318.5879">request and build template</text><polygon fill="#181818" points="1933.5,1348.6406,1923.5,1352.6406,1933.5,1356.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1927.5" x2="3153.5" y1="1352.6406" y2="1352.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2499.5" y="1347.8984">return HTML</text><polygon fill="#181818" points="312.5,1377.9512,302.5,1381.9512,312.5,1385.9512" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="1921.5" y1="1381.9512" y2="1381.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1073" y="1377.209">return HTML</text><polygon fill="#181818" points="56.5,1407.2617,46.5,1411.2617,56.5,1415.2617" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="300.5" y1="1411.2617" y2="1411.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="133.5" y="1406.5195">render HTML</text><path d="M10,1426.2617 L72,1426.2617 L72,1433.5723 L62,1443.5723 L10,1443.5723 L10,1426.2617 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="163.8633" style="stroke:#000000;stroke-width:1.5;" width="3761" x="10" y="1426.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="1439.8301">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="225" x="87" y="1438.8965">[Initally navigated from expense record]</text><polygon fill="#181818" points="2156.5,1460.8828,2146.5,1464.8828,2156.5,1468.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2150.5" x2="2398.5" y1="1464.8828" y2="1464.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="2157.5" y="1460.1406">call juror record controller controller</text><polygon fill="#181818" points="3538.5,1490.1934,3548.5,1494.1934,3538.5,1498.1934" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2145.5" x2="3544.5" y1="1494.1934" y2="1494.1934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="2763.5" y="1489.4512">request and build template</text><polygon fill="#181818" points="2156.5,1519.5039,2146.5,1523.5039,2156.5,1527.5039" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2150.5" x2="3549.5" y1="1523.5039" y2="1523.5039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2809" y="1518.7617">return HTML</text><polygon fill="#181818" points="828.5,1548.8145,818.5,1552.8145,828.5,1556.8145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="822.5" x2="2144.5" y1="1552.8145" y2="1552.8145"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1442.5" y="1548.0723">return HTML</text><polygon fill="#181818" points="56.5,1578.125,46.5,1582.125,56.5,1586.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="50.5" x2="816.5" y1="1582.125" y2="1582.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="391.5" y="1577.3828">render HTML</text><!--MD5=[cfa9dcca0b1557c6bbf4dc8780d07ff2]
@startuml edit-bank-details

skinparam Style strictuml 
skinparam SequenceMessageAlignment center

participant Actor

''' LOCAL ROUTING
participant JurorRecordExpensesPage <</juror-management/record/:jurorNumber/expenses>>
participant DraftExpenseRecordPage <</juror-management/unpaid-attendance/expense-record/:jurorNumber/:poolNumber>>
participant BankDetailsPage <</juror-management/expenses/:jurorNumber/:poolNumber/bank-details>>
participant GenericErrorPage <</error>>

''' CONTROLLER AND REQUEST OBJECTS
participant JurorRecordController <<juror-record.controller.js>> #lightyellow
participant ExpenseRecordController <<expense-record.controller.js>> #lightyellow
participant EditBankDetailsController <<edit-bank-details.controller.js>> #lightyellow
participant BankDetailsObject <<jurorBankDetailsDAO.get()>> #lightyellow
participant SetBankDetailsObject <<jurorBankDetailsDAO.patch()>> #lightyellow

''' TEMPLATES
participant JurorRecordExpensesTemplate <<juror-management/juror-record/expenses.njk>> #lavender
participant DraftExpenseRecordTemplate <<juror-management/expense-record/expense-record.njk>> #lavender
participant BankDetailsTemplate <<expenses/default-expenses.njk>> #lavender
participant ErrorTemplate <<_errors/generic.njk>> #lavender

''' FILTERS AND VALIDATORS
participant BankDetailsValidator

''' BACKEND CONTROLLER
participant BackendController

Actor -> JurorRecordExpensesPage : click add or change bank details link
JurorRecordExpensesPage -> EditBankDetailsController : call bank details controller

alt Navigate from expense record
  Actor -> DraftExpenseRecordPage : click add or change bank details link
  DraftExpenseRecordPage -> EditBankDetailsController : call bank details controller
end
 
EditBankDetailsController -> BankDetailsObject : build request object
BankDetailsObject -> BackendController : send backend request
BankDetailsObject <- BackendController : ok response
EditBankDetailsController <- BankDetailsObject : resolve request

alt Failed to fetch jurors bank details
    BankDetailsObject <- - BackendController : error response
    EditBankDetailsController <- - BankDetailsObject : reject requestObject
    EditBankDetailsController -> ErrorTemplate : request and build template
    EditBankDetailsController <- ErrorTemplate : return HTML
    GenericErrorPage <- EditBankDetailsController : return HTML
    Actor <- GenericErrorPage : render error page
end

EditBankDetailsController -> BankDetailsTemplate : request and build template
EditBankDetailsController <- BankDetailsTemplate : return HTML
BankDetailsPage <- EditBankDetailsController : return HTML
Actor <- BankDetailsPage : render HTML

Actor -> BankDetailsPage : enters valid bank details values

BankDetailsPage -> EditBankDetailsController : call page controller

EditBankDetailsController -> BankDetailsValidator : validate form

alt Invalid values entered
  EditBankDetailsController <- - BankDetailsValidator : data validation fails
  EditBankDetailsController -> BankDetailsTemplate : request and build error message template
  EditBankDetailsController <- BankDetailsTemplate : return HTML
  BankDetailsPage <- EditBankDetailsController : return HTML
  Actor <- BankDetailsPage : render error message
end

EditBankDetailsController <- BankDetailsValidator : valid values entered

EditBankDetailsController -> SetBankDetailsObject : build request object
SetBankDetailsObject -> BackendController : send backend request
SetBankDetailsObject <- BackendController : ok response
EditBankDetailsController <- SetBankDetailsObject : resolve request

alt Failed to set jurors bank details
    SetBankDetailsObject <- - BackendController : error response
    EditBankDetailsController <- - SetBankDetailsObject : reject requestObject
    EditBankDetailsController -> ErrorTemplate : request and build template
    EditBankDetailsController <- ErrorTemplate : return HTML
    GenericErrorPage <- EditBankDetailsController : return HTML
    Actor <- GenericErrorPage : render error page
end

EditBankDetailsController -> JurorRecordController : call juror record controller controller
JurorRecordController -> JurorRecordExpensesTemplate : request and build template
JurorRecordController <- JurorRecordExpensesTemplate : return HTML
JurorRecordExpensesPage <- JurorRecordController : return HTML
Actor <- JurorRecordExpensesPage : render HTML

alt Initally navigated from expense record
  EditBankDetailsController -> ExpenseRecordController : call juror record controller controller
  ExpenseRecordController -> DraftExpenseRecordTemplate : request and build template
  ExpenseRecordController <- DraftExpenseRecordTemplate : return HTML
  DraftExpenseRecordPage <- ExpenseRecordController : return HTML
  Actor <- DraftExpenseRecordPage : render HTML
end







    
@end

@startuml edit-bank-details

skinparam Style strictuml 
skinparam SequenceMessageAlignment center

participant Actor

participant JurorRecordExpensesPage <</juror-management/record/:jurorNumber/expenses>>
participant DraftExpenseRecordPage <</juror-management/unpaid-attendance/expense-record/:jurorNumber/:poolNumber>>
participant BankDetailsPage <</juror-management/expenses/:jurorNumber/:poolNumber/bank-details>>
participant GenericErrorPage <</error>>

participant JurorRecordController <<juror-record.controller.js>> #lightyellow
participant ExpenseRecordController <<expense-record.controller.js>> #lightyellow
participant EditBankDetailsController <<edit-bank-details.controller.js>> #lightyellow
participant BankDetailsObject <<jurorBankDetailsDAO.get()>> #lightyellow
participant SetBankDetailsObject <<jurorBankDetailsDAO.patch()>> #lightyellow

participant JurorRecordExpensesTemplate <<juror-management/juror-record/expenses.njk>> #lavender
participant DraftExpenseRecordTemplate <<juror-management/expense-record/expense-record.njk>> #lavender
participant BankDetailsTemplate <<expenses/default-expenses.njk>> #lavender
participant ErrorTemplate <<_errors/generic.njk>> #lavender

participant BankDetailsValidator

participant BackendController

Actor -> JurorRecordExpensesPage : click add or change bank details link
JurorRecordExpensesPage -> EditBankDetailsController : call bank details controller

alt Navigate from expense record
  Actor -> DraftExpenseRecordPage : click add or change bank details link
  DraftExpenseRecordPage -> EditBankDetailsController : call bank details controller
end
 
EditBankDetailsController -> BankDetailsObject : build request object
BankDetailsObject -> BackendController : send backend request
BankDetailsObject <- BackendController : ok response
EditBankDetailsController <- BankDetailsObject : resolve request

alt Failed to fetch jurors bank details
    BankDetailsObject <- - BackendController : error response
    EditBankDetailsController <- - BankDetailsObject : reject requestObject
    EditBankDetailsController -> ErrorTemplate : request and build template
    EditBankDetailsController <- ErrorTemplate : return HTML
    GenericErrorPage <- EditBankDetailsController : return HTML
    Actor <- GenericErrorPage : render error page
end

EditBankDetailsController -> BankDetailsTemplate : request and build template
EditBankDetailsController <- BankDetailsTemplate : return HTML
BankDetailsPage <- EditBankDetailsController : return HTML
Actor <- BankDetailsPage : render HTML

Actor -> BankDetailsPage : enters valid bank details values

BankDetailsPage -> EditBankDetailsController : call page controller

EditBankDetailsController -> BankDetailsValidator : validate form

alt Invalid values entered
  EditBankDetailsController <- - BankDetailsValidator : data validation fails
  EditBankDetailsController -> BankDetailsTemplate : request and build error message template
  EditBankDetailsController <- BankDetailsTemplate : return HTML
  BankDetailsPage <- EditBankDetailsController : return HTML
  Actor <- BankDetailsPage : render error message
end

EditBankDetailsController <- BankDetailsValidator : valid values entered

EditBankDetailsController -> SetBankDetailsObject : build request object
SetBankDetailsObject -> BackendController : send backend request
SetBankDetailsObject <- BackendController : ok response
EditBankDetailsController <- SetBankDetailsObject : resolve request

alt Failed to set jurors bank details
    SetBankDetailsObject <- - BackendController : error response
    EditBankDetailsController <- - SetBankDetailsObject : reject requestObject
    EditBankDetailsController -> ErrorTemplate : request and build template
    EditBankDetailsController <- ErrorTemplate : return HTML
    GenericErrorPage <- EditBankDetailsController : return HTML
    Actor <- GenericErrorPage : render error page
end

EditBankDetailsController -> JurorRecordController : call juror record controller controller
JurorRecordController -> JurorRecordExpensesTemplate : request and build template
JurorRecordController <- JurorRecordExpensesTemplate : return HTML
JurorRecordExpensesPage <- JurorRecordController : return HTML
Actor <- JurorRecordExpensesPage : render HTML

alt Initally navigated from expense record
  EditBankDetailsController -> ExpenseRecordController : call juror record controller controller
  ExpenseRecordController -> DraftExpenseRecordTemplate : request and build template
  ExpenseRecordController <- DraftExpenseRecordTemplate : return HTML
  DraftExpenseRecordPage <- ExpenseRecordController : return HTML
  Actor <- DraftExpenseRecordPage : render HTML
end







    
@end

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>